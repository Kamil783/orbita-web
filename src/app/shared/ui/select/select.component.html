<div class="sel">
  <!-- Input trigger -->
  <div class="sel__input" [class.sel__input--open]="isOpen()" [class.sel__input--filled]="selectedValue()" (click)="toggle()">
    <span class="material-symbols-outlined sel__icon">{{ icon() }}</span>
    @if (displayValue()) {
      <span class="sel__value">{{ displayValue() }}</span>
    } @else {
      <span class="sel__placeholder">{{ placeholder() }}</span>
    }
    @if (selectedValue()) {
      <button class="sel__clear" type="button" (click)="clear($event)" aria-label="Очистить">
        <span class="material-symbols-outlined">close</span>
      </button>
    } @else {
      <span class="material-symbols-outlined sel__chevron">expand_more</span>
    }
  </div>

  <!-- Options dropdown -->
  @if (isOpen()) {
    <div class="sel__dropdown">
      @for (opt of options(); track opt.value) {
        <button
          class="sel__option"
          [class.sel__option--selected]="opt.value === selectedValue()"
          type="button"
          (click)="select(opt)"
        >
          {{ opt.label }}
        </button>
      }
    </div>
  }
</div>
