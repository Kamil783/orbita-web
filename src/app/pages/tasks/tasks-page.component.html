<app-app-shell>
  <app-topbar [title]="title" placeholder="Поиск...">
    <app-tasks-filter topbar-left-extra [items]="filterItems" [(selectedId)]="selectedFilterId">
    </app-tasks-filter>
  </app-topbar>

  <main class="page">
    <app-kanban-board [columns]="filteredColumns()" (menuAction)="onMenuAction($event)"></app-kanban-board>

    <button class="fab" type="button" (click)="onQuickAdd()" aria-label="Добавить задачу">
      <span class="material-symbols-outlined">add</span>
    </button>
  </main>
</app-app-shell>

@if (showCreatePanel()) {
  <app-task-create-panel
    [assignees]="assigneeOptions"
    (save)="onSaveTask($event)"
    (cancel)="onCancelCreate()"
  />
}

@if (deleteTaskId()) {
  <app-confirm-dialog
    title="Удалить задачу"
    message="Вы уверены, что хотите удалить эту задачу? Это действие нельзя отменить."
    confirmText="Удалить"
    cancelText="Отмена"
    (confirm)="onConfirmDelete()"
    (cancel)="onCancelDelete()"
  />
}
