<div class="overlay" (click)="onBackdropClick()">
  <div class="dialog" (click)="onDialogClick($event)">
    <header class="dialog__header">
      <div class="dialog__header-left">
        <div class="dialog__icon-wrap">
          <span class="material-symbols-outlined">task_alt</span>
        </div>
        <div>
          <h3 class="dialog__title">Выполненные задачи</h3>
          <p class="dialog__subtitle">{{ taskCount() }} задач завершено</p>
        </div>
      </div>
      <button class="dialog__close" type="button" (click)="close.emit()">
        <span class="material-symbols-outlined">close</span>
      </button>
    </header>

    <div class="dialog__list">
      @for (task of tasks(); track task.id) {
        <div class="done-row">
          <span class="material-symbols-outlined done-row__check">check_circle</span>
          <div class="done-row__info">
            <span class="done-row__title">{{ task.title }}</span>
            @if (task.dueDate) {
              <span class="done-row__date">{{ task.dueDate }}</span>
            }
          </div>
          <span class="done-row__priority" [class]="priorityClass(task.priority)"></span>
        </div>
      } @empty {
        <div class="dialog__empty">
          <span class="material-symbols-outlined">inbox</span>
          <p>Нет выполненных задач</p>
        </div>
      }
    </div>

    <footer class="dialog__footer">
      <button class="dialog__close-btn" type="button" (click)="close.emit()">Закрыть</button>
    </footer>
  </div>
</div>
